18:05:45 [INFO] Logger initialized
18:05:45 [INFO] Database already exists
18:05:45 [DEBUG] (10) sqlx::query: summary="PRAGMA foreign_keys = ON; …" db.statement="\n\nPRAGMA foreign_keys = ON;\n" rows_affected=0 rows_returned=0 elapsed=367.041µs elapsed_secs=0.000367041
18:05:45 [INFO] Database connected successfully
18:05:45 [DEBUG] (10) sqlx::query: summary="CREATE TABLE IF NOT …" db.statement="\n\nCREATE TABLE IF NOT EXISTS _sqlx_migrations (\n  version BIGINT PRIMARY KEY,\n  description TEXT NOT NULL,\n  installed_on TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP,\n  success BOOLEAN NOT NULL,\n  checksum BLOB NOT NULL,\n  execution_time BIGINT NOT NULL\n);\n" rows_affected=0 rows_returned=0 elapsed=1.205291ms elapsed_secs=0.001205291
18:05:45 [DEBUG] (10) sqlx::query: summary="SELECT version FROM _sqlx_migrations …" db.statement="\n\nSELECT\n  version\nFROM\n  _sqlx_migrations\nWHERE\n  success = false\nORDER BY\n  version\nLIMIT\n  1\n" rows_affected=0 rows_returned=0 elapsed=1.411292ms elapsed_secs=0.001411292
18:05:45 [DEBUG] (10) sqlx::query: summary="SELECT version, checksum FROM …" db.statement="\n\nSELECT\n  version,\n  checksum\nFROM\n  _sqlx_migrations\nORDER BY\n  version\n" rows_affected=0 rows_returned=1 elapsed=67.25µs elapsed_secs=6.725e-5
18:05:45 [INFO] Database migrated successfully
18:05:45 [INFO] Database migrated successfully
18:05:45 [DEBUG] (1) reqwest::connect: starting new connection: https://datacenter.disaster.go.th/
18:05:45 [DEBUG] (1) hyper_util::client::legacy::connect::dns: resolve; host=datacenter.disaster.go.th
18:05:45 [DEBUG] (11) hyper_util::client::legacy::connect::dns: resolving host="datacenter.disaster.go.th"
18:05:45 [DEBUG] (1) hyper_util::client::legacy::connect::http: connecting to 110.78.23.177:443
18:05:45 [DEBUG] (1) hyper_util::client::legacy::connect::http: connected to 110.78.23.177:443
18:05:45 [DEBUG] (2) hyper_util::client::legacy::pool: pooling idle connection for ("https", datacenter.disaster.go.th)
18:05:45 [DEBUG] (1) flood_disaster_crawl: [FileDetail { id: "47367", subject: "ห\u{e49}วงว\u{e31}นท\u{e35}\u{e48} 16 ส\u{e34}งหาคม 2567 (ข\u{e49}อม\u{e39}ล ณ ว\u{e31}นท\u{e35}\u{e48} 10 ต\u{e38}ลาคม 2567 เวลา 21.30 น.)", link_download: "https://backofficeminisite.disaster.go.th/apiv1/apps/minisite_datacenter/203/sitedownload/10971/download?TypeMenu=InnerMenu&filename=7d362ec0c2c1a826ffdd988a8da27bbc.pdf" }, FileDetail { id: "46994", subject: "ห\u{e49}วงว\u{e31}นท\u{e35}\u{e48} 16 ส\u{e34}งหาคม 2567 (ข\u{e49}อม\u{e39}ล ณ ว\u{e31}นท\u{e35}\u{e48} 1 ต\u{e38}ลาคม 2567 เวลา 17.00 น.)", link_download: "https://backofficeminisite.disaster.go.th/apiv1/apps/minisite_datacenter/203/sitedownload/10971/download?TypeMenu=InnerMenu&filename=e46a846e522b549e338296fece070d70.pdf" }, FileDetail { id: "46885", subject: "ห\u{e49}วงว\u{e31}นท\u{e35}\u{e48} 16 ส\u{e34}งหาคม 2567 (ข\u{e49}อม\u{e39}ล ณ ว\u{e31}นท\u{e35}\u{e48} 26 ก\u{e31}นยายน 2567 เวลา 13.30 น.)", link_download: "https://backofficeminisite.disaster.go.th/apiv1/apps/minisite_datacenter/203/sitedownload/10971/download?TypeMenu=InnerMenu&filename=c0c0d016711b9da72bd0de3897b4c9d3.pdf" }, FileDetail { id: "46834", subject: "ห\u{e49}วงว\u{e31}นท\u{e35}\u{e48} 16 ส\u{e34}งหาคม 2567 (ข\u{e49}อม\u{e39}ล ณ ว\u{e31}นท\u{e35}\u{e48} 24 ก\u{e31}นยายน 2567 เวลา 15.30 น.)", link_download: "https://backofficeminisite.disaster.go.th/apiv1/apps/minisite_datacenter/203/sitedownload/10971/download?TypeMenu=InnerMenu&filename=370d43acb8078ebb52adbd0daa344b13.pdf" }, FileDetail { id: "46807", subject: "ห\u{e49}วงว\u{e31}นท\u{e35}\u{e48} 16 ส\u{e34}งหาคม 2567 (ข\u{e49}อม\u{e39}ล ณ ว\u{e31}นท\u{e35}\u{e48} 22 ก\u{e31}นยายน 2567 เวลา 22.30 น.)", link_download: "https://backofficeminisite.disaster.go.th/apiv1/apps/minisite_datacenter/203/sitedownload/10971/download?TypeMenu=InnerMenu&filename=ff9697189557e125385ed6a4a8bf5788.pdf" }, FileDetail { id: "46732", subject: "ห\u{e49}วงว\u{e31}นท\u{e35}\u{e48} 16 ส\u{e34}งหาคม 2567 (ข\u{e49}อม\u{e39}ล ณ ว\u{e31}นท\u{e35}\u{e48} 19 ก\u{e31}นยายน 2567 เวลา 15.30 น.)", link_download: "https://backofficeminisite.disaster.go.th/apiv1/apps/minisite_datacenter/203/sitedownload/10971/download?TypeMenu=InnerMenu&filename=eb926f4de043c626b935656be04d59f4.pdf" }, FileDetail { id: "46730", subject: "ห\u{e49}วงว\u{e31}นท\u{e35}\u{e48} 16 ส\u{e34}งหาคม 2567 (ข\u{e49}อม\u{e39}ล ณ ว\u{e31}นท\u{e35}\u{e48} 17ก\u{e31}นยายน 2567 เวลา 19.00 น.)", link_download: "https://backofficeminisite.disaster.go.th/apiv1/apps/minisite_datacenter/203/sitedownload/10971/download?TypeMenu=InnerMenu&filename=256c6f5b61473aaaf1fe73f571b4b28b.pdf" }, FileDetail { id: "46658", subject: "ห\u{e49}วงว\u{e31}นท\u{e35}\u{e48} 16 ส\u{e34}งหาคม 2567 (ข\u{e49}อม\u{e39}ล ณ ว\u{e31}นท\u{e35}\u{e48} 16 ก\u{e31}นยายน 2567 เวลา 17.00 น.)", link_download: "https://backofficeminisite.disaster.go.th/apiv1/apps/minisite_datacenter/203/sitedownload/10971/download?TypeMenu=InnerMenu&filename=ca14cd6c279d15639a51915b4b7917bc.pdf" }, FileDetail { id: "46557", subject: "ห\u{e49}วงว\u{e31}นท\u{e35}\u{e48} 16 ส\u{e34}งหาคม 2567 (ข\u{e49}อม\u{e39}ล ณ ว\u{e31}นท\u{e35}\u{e48} 15 ก\u{e31}นยายน 2567 เวลา 17.00 น.)", link_download: "https://backofficeminisite.disaster.go.th/apiv1/apps/minisite_datacenter/203/sitedownload/10971/download?TypeMenu=InnerMenu&filename=554f84922e1a4d9a6c34f139c9d1b181.pdf" }, FileDetail { id: "46399", subject: "ห\u{e49}วงว\u{e31}นท\u{e35}\u{e48} 16 ส\u{e34}งหาคม 2567 (ข\u{e49}อม\u{e39}ล ณ ว\u{e31}นท\u{e35}\u{e48} 10 ก\u{e31}นยายน 2567 เวลา 15.30 น.)", link_download: "https://backofficeminisite.disaster.go.th/apiv1/apps/minisite_datacenter/203/sitedownload/10971/download?TypeMenu=InnerMenu&filename=f336a38ca7e0bfc0d845ebe33c8b84d4.pdf" }, FileDetail { id: "46367", subject: "ห\u{e49}วงว\u{e31}นท\u{e35}\u{e48} 16 ส\u{e34}งหาคม 2567 (ข\u{e49}อม\u{e39}ล ณ ว\u{e31}นท\u{e35}\u{e48} 5 ก\u{e31}นยายน 2567 เวลา 14.30 น.)", link_download: "https://backofficeminisite.disaster.go.th/apiv1/apps/minisite_datacenter/203/sitedownload/10971/download?TypeMenu=InnerMenu&filename=fca7f2fed753e5050f4c6c70dfa608e0.pdf" }, FileDetail { id: "46205", subject: "ห\u{e49}วงว\u{e31}นท\u{e35}\u{e48} 16 ส\u{e34}งหาคม 2567 (ข\u{e49}อม\u{e39}ล ณ ว\u{e31}นท\u{e35}\u{e48} 3 ก\u{e31}นยายน 2567 เวลา 15.30 น.)", link_download: "https://backofficeminisite.disaster.go.th/apiv1/apps/minisite_datacenter/203/sitedownload/10971/download?TypeMenu=InnerMenu&filename=e72f549e59cd75ee9cf71230947471d8.pdf" }, FileDetail { id: "45988", subject: "ห\u{e49}วงว\u{e31}นท\u{e35}\u{e48} 16 ส\u{e34}งหาคม 2567 (ข\u{e49}อม\u{e39}ล ณ ว\u{e31}นท\u{e35}\u{e48} 29 ส\u{e34}งหาคม 2567 เวลา 15.30 น.)", link_download: "https://backofficeminisite.disaster.go.th/apiv1/apps/minisite_datacenter/203/sitedownload/10971/download?TypeMenu=InnerMenu&filename=b3caa55866114553ce319a3013ef211d.pdf" }, FileDetail { id: "45944", subject: "ห\u{e49}วงว\u{e31}นท\u{e35}\u{e48} 16 ส\u{e34}งหาคม 2567 (ข\u{e49}อม\u{e39}ล ณ ว\u{e31}นท\u{e35}\u{e48} 27 ส\u{e34}งหาคม 2567 เวลา 13.00 น.)", link_download: "https://backofficeminisite.disaster.go.th/apiv1/apps/minisite_datacenter/203/sitedownload/10971/download?TypeMenu=InnerMenu&filename=1abc4fdd9a4618af701a709a0cf042fa.pdf" }]
18:05:45 [DEBUG] (10) sqlx::query: summary="SELECT * FROM content …" db.statement="\n\nSELECT\n  *\nFROM\n  content\nWHERE\n  id = ?\n" rows_affected=0 rows_returned=0 elapsed=150.75µs elapsed_secs=0.00015075
18:05:45 [INFO] New file found: 47367
18:05:45 [DEBUG] (10) sqlx::query: summary="INSERT INTO content (id, …" db.statement="\n\nINSERT INTO\n  content (id, subject, linkDownload)\nVALUES\n  (?, ?, ?)\n" rows_affected=1 rows_returned=0 elapsed=387.708µs elapsed_secs=0.000387708
18:05:45 [DEBUG] (12) sqlx::query: summary="PRAGMA foreign_keys = ON; …" db.statement="\n\nPRAGMA foreign_keys = ON;\n" rows_affected=0 rows_returned=0 elapsed=18.584µs elapsed_secs=1.8584e-5
18:05:45 [DEBUG] (12) sqlx::query: summary="SELECT * FROM content …" db.statement="\n\nSELECT\n  *\nFROM\n  content\nWHERE\n  id = ?\n" rows_affected=0 rows_returned=0 elapsed=340.75µs elapsed_secs=0.00034075
18:05:45 [INFO] New file found: 46994
18:05:45 [DEBUG] (10) sqlx::query: summary="INSERT INTO content (id, …" db.statement="\n\nINSERT INTO\n  content (id, subject, linkDownload)\nVALUES\n  (?, ?, ?)\n" rows_affected=1 rows_returned=0 elapsed=143.833µs elapsed_secs=0.000143833
18:05:45 [DEBUG] (12) sqlx::query: summary="SELECT * FROM content …" db.statement="\n\nSELECT\n  *\nFROM\n  content\nWHERE\n  id = ?\n" rows_affected=0 rows_returned=1 elapsed=44.375µs elapsed_secs=4.4375e-5
18:05:45 [DEBUG] (10) sqlx::query: summary="SELECT * FROM content …" db.statement="\n\nSELECT\n  *\nFROM\n  content\nWHERE\n  id = ?\n" rows_affected=0 rows_returned=1 elapsed=18.459µs elapsed_secs=1.8459e-5
18:05:45 [DEBUG] (12) sqlx::query: summary="SELECT * FROM content …" db.statement="\n\nSELECT\n  *\nFROM\n  content\nWHERE\n  id = ?\n" rows_affected=0 rows_returned=1 elapsed=16.958µs elapsed_secs=1.6958e-5
18:05:45 [DEBUG] (10) sqlx::query: summary="SELECT * FROM content …" db.statement="\n\nSELECT\n  *\nFROM\n  content\nWHERE\n  id = ?\n" rows_affected=0 rows_returned=1 elapsed=31.125µs elapsed_secs=3.1125e-5
18:05:45 [DEBUG] (12) sqlx::query: summary="SELECT * FROM content …" db.statement="\n\nSELECT\n  *\nFROM\n  content\nWHERE\n  id = ?\n" rows_affected=0 rows_returned=1 elapsed=18.5µs elapsed_secs=1.85e-5
18:05:45 [DEBUG] (10) sqlx::query: summary="SELECT * FROM content …" db.statement="\n\nSELECT\n  *\nFROM\n  content\nWHERE\n  id = ?\n" rows_affected=0 rows_returned=1 elapsed=36.417µs elapsed_secs=3.6417e-5
18:05:45 [DEBUG] (12) sqlx::query: summary="SELECT * FROM content …" db.statement="\n\nSELECT\n  *\nFROM\n  content\nWHERE\n  id = ?\n" rows_affected=0 rows_returned=1 elapsed=26.375µs elapsed_secs=2.6375e-5
18:05:45 [DEBUG] (10) sqlx::query: summary="SELECT * FROM content …" db.statement="\n\nSELECT\n  *\nFROM\n  content\nWHERE\n  id = ?\n" rows_affected=0 rows_returned=1 elapsed=16.333µs elapsed_secs=1.6333e-5
18:05:45 [DEBUG] (12) sqlx::query: summary="SELECT * FROM content …" db.statement="\n\nSELECT\n  *\nFROM\n  content\nWHERE\n  id = ?\n" rows_affected=0 rows_returned=1 elapsed=14.083µs elapsed_secs=1.4083e-5
18:05:45 [DEBUG] (10) sqlx::query: summary="SELECT * FROM content …" db.statement="\n\nSELECT\n  *\nFROM\n  content\nWHERE\n  id = ?\n" rows_affected=0 rows_returned=1 elapsed=14.25µs elapsed_secs=1.425e-5
18:05:45 [DEBUG] (12) sqlx::query: summary="SELECT * FROM content …" db.statement="\n\nSELECT\n  *\nFROM\n  content\nWHERE\n  id = ?\n" rows_affected=0 rows_returned=1 elapsed=17.125µs elapsed_secs=1.7125e-5
18:05:45 [DEBUG] (10) sqlx::query: summary="SELECT * FROM content …" db.statement="\n\nSELECT\n  *\nFROM\n  content\nWHERE\n  id = ?\n" rows_affected=0 rows_returned=1 elapsed=12.917µs elapsed_secs=1.2917e-5
18:05:45 [INFO] New files found: [FileDetail { id: "46994", subject: "ห\u{e49}วงว\u{e31}นท\u{e35}\u{e48} 16 ส\u{e34}งหาคม 2567 (ข\u{e49}อม\u{e39}ล ณ ว\u{e31}นท\u{e35}\u{e48} 1 ต\u{e38}ลาคม 2567 เวลา 17.00 น.)", link_download: "https://backofficeminisite.disaster.go.th/apiv1/apps/minisite_datacenter/203/sitedownload/10971/download?TypeMenu=InnerMenu&filename=e46a846e522b549e338296fece070d70.pdf" }, FileDetail { id: "47367", subject: "ห\u{e49}วงว\u{e31}นท\u{e35}\u{e48} 16 ส\u{e34}งหาคม 2567 (ข\u{e49}อม\u{e39}ล ณ ว\u{e31}นท\u{e35}\u{e48} 10 ต\u{e38}ลาคม 2567 เวลา 21.30 น.)", link_download: "https://backofficeminisite.disaster.go.th/apiv1/apps/minisite_datacenter/203/sitedownload/10971/download?TypeMenu=InnerMenu&filename=7d362ec0c2c1a826ffdd988a8da27bbc.pdf" }]
18:05:45 [DEBUG] (1) reqwest::connect: starting new connection: https://login.microsoftonline.com/
18:05:45 [DEBUG] (1) hyper_util::client::legacy::connect::dns: resolve; host=login.microsoftonline.com
18:05:45 [DEBUG] (11) hyper_util::client::legacy::connect::dns: resolving host="login.microsoftonline.com"
18:05:45 [DEBUG] (1) hyper_util::client::legacy::connect::http: connecting to [2603:1047:1:168::28]:443
18:05:45 [DEBUG] (1) hyper_util::client::legacy::connect::http: connected to [2603:1047:1:168::28]:443
18:05:46 [DEBUG] (1) hyper_util::client::legacy::pool: pooling idle connection for ("https", login.microsoftonline.com)
18:05:46 [INFO] Token refreshed successfully
18:05:46 [DEBUG] (1) reqwest::connect: starting new connection: https://graph.microsoft.com/
18:05:46 [DEBUG] (1) hyper_util::client::legacy::connect::dns: resolve; host=graph.microsoft.com
18:05:46 [DEBUG] (11) hyper_util::client::legacy::connect::dns: resolving host="graph.microsoft.com"
18:05:46 [DEBUG] (1) hyper_util::client::legacy::connect::http: connecting to [2603:1047:1:198::80]:443
18:05:46 [DEBUG] (1) hyper_util::client::legacy::connect::http: connected to [2603:1047:1:198::80]:443
18:05:46 [DEBUG] (8) hyper_util::client::legacy::pool: pooling idle connection for ("https", graph.microsoft.com)
18:05:46 [INFO] {"@odata.context":"https://graph.microsoft.com/v1.0/$metadata#chats('48%3Anotes')/messages/$entity","id":"1728929148613","replyToId":null,"etag":"1728929148613","messageType":"message","createdDateTime":"2024-10-14T18:05:48.613Z","lastModifiedDateTime":"2024-10-14T18:05:48.613Z","lastEditedDateTime":null,"deletedDateTime":null,"subject":null,"summary":null,"chatId":"48:notes","importance":"normal","locale":"en-us","webUrl":null,"channelIdentity":null,"policyViolation":null,"eventDetail":null,"from":{"application":null,"device":null,"user":{"@odata.type":"#microsoft.graph.teamworkUserIdentity","id":"3767e2b2-df4b-49f3-9f69-8b42bc95f20e","displayName":"Kittipos Wajakajornrit","userIdentityType":"aadUser","tenantId":"a4c86d0d-f97a-4b86-9a6e-56e562bdacd5"}},"body":{"contentType":"html","content":"<attachment id=\"7dcd7a7d4dd8480eb8585e226b755ab4\"></attachment>"},"attachments":[{"id":"7dcd7a7d4dd8480eb8585e226b755ab4","contentType":"application/vnd.microsoft.card.thumbnail","contentUrl":"https://backofficeminisite.disaster.go.th/apiv1/apps/minisite_datacenter/203/sitedownload/10971/download?TypeMenu=InnerMenu&filename=e46a846e522b549e338296fece070d70.pdf","content":"{\r\n  \"title\": \"[New] การประกาศเขตอุทกภัย\",\r\n  \"subtitle\": \"ห้วงวันที่ 16 สิงหาคม 2567 (ข้อมูล ณ วันที่ 1 ตุลาคม 2567 เวลา 17.00 น.)\",\r\n  \"text\": \"Click the link below to download the file\",\r\n  \"buttons\": [\r\n    {\r\n      \"type\": \"openUrl\",\r\n      \"title\": \"Download\",\r\n      \"value\": \"https://backofficeminisite.disaster.go.th/apiv1/apps/minisite_datacenter/203/sitedownload/10971/download?TypeMenu=InnerMenu&filename=e46a846e522b549e338296fece070d70.pdf\"\r\n    }\r\n  ]\r\n}","name":"ห้วงวันที่ 16 สิงหาคม 2567 (ข้อมูล ณ วันที่ 1 ตุลาคม 2567 เวลา 17.00 น.)","thumbnailUrl":null,"teamsAppId":null}],"mentions":[],"reactions":[]}
18:05:46 [INFO] Message sent successfully
18:05:46 [DEBUG] (1) reqwest::connect: starting new connection: https://graph.microsoft.com/
18:05:46 [DEBUG] (1) hyper_util::client::legacy::connect::dns: resolve; host=graph.microsoft.com
18:05:46 [DEBUG] (11) hyper_util::client::legacy::connect::dns: resolving host="graph.microsoft.com"
18:05:46 [DEBUG] (1) hyper_util::client::legacy::connect::http: connecting to [2603:1047:1:198::80]:443
18:05:46 [DEBUG] (1) hyper_util::client::legacy::connect::http: connected to [2603:1047:1:198::80]:443
18:05:46 [DEBUG] (8) hyper_util::client::legacy::pool: pooling idle connection for ("https", graph.microsoft.com)
18:05:46 [INFO] {"@odata.context":"https://graph.microsoft.com/v1.0/$metadata#chats('48%3Anotes')/messages/$entity","id":"1728929148957","replyToId":null,"etag":"1728929148957","messageType":"message","createdDateTime":"2024-10-14T18:05:48.957Z","lastModifiedDateTime":"2024-10-14T18:05:48.957Z","lastEditedDateTime":null,"deletedDateTime":null,"subject":null,"summary":null,"chatId":"48:notes","importance":"normal","locale":"en-us","webUrl":null,"channelIdentity":null,"policyViolation":null,"eventDetail":null,"from":{"application":null,"device":null,"user":{"@odata.type":"#microsoft.graph.teamworkUserIdentity","id":"3767e2b2-df4b-49f3-9f69-8b42bc95f20e","displayName":"Kittipos Wajakajornrit","userIdentityType":"aadUser","tenantId":"a4c86d0d-f97a-4b86-9a6e-56e562bdacd5"}},"body":{"contentType":"html","content":"<attachment id=\"68e38044536c4364870edfdda65f2e34\"></attachment>"},"attachments":[{"id":"68e38044536c4364870edfdda65f2e34","contentType":"application/vnd.microsoft.card.thumbnail","contentUrl":"https://backofficeminisite.disaster.go.th/apiv1/apps/minisite_datacenter/203/sitedownload/10971/download?TypeMenu=InnerMenu&filename=7d362ec0c2c1a826ffdd988a8da27bbc.pdf","content":"{\r\n  \"title\": \"[New] การประกาศเขตอุทกภัย\",\r\n  \"subtitle\": \"ห้วงวันที่ 16 สิงหาคม 2567 (ข้อมูล ณ วันที่ 10 ตุลาคม 2567 เวลา 21.30 น.)\",\r\n  \"text\": \"Click the link below to download the file\",\r\n  \"buttons\": [\r\n    {\r\n      \"type\": \"openUrl\",\r\n      \"title\": \"Download\",\r\n      \"value\": \"https://backofficeminisite.disaster.go.th/apiv1/apps/minisite_datacenter/203/sitedownload/10971/download?TypeMenu=InnerMenu&filename=7d362ec0c2c1a826ffdd988a8da27bbc.pdf\"\r\n    }\r\n  ]\r\n}","name":"ห้วงวันที่ 16 สิงหาคม 2567 (ข้อมูล ณ วันที่ 10 ตุลาคม 2567 เวลา 21.30 น.)","thumbnailUrl":null,"teamsAppId":null}],"mentions":[],"reactions":[]}
18:05:46 [INFO] Message sent successfully
